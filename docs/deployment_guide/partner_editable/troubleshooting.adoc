//Add any unique troubleshooting steps here.

For troubleshooting common Quick Start issues visit the http://general-content-file[AWS Quick Start General Content Guide] or the https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html[Troubleshooting CloudFormation] page in the AWS documentation.

== FAQ

*Q.* I encountered a *CREATE_FAILED* error when I launched the Quick Start.

*A.* If AWS CloudFormation fails to create the stack, relaunch the template with *Rollback on failure* set to *Disabled*. This setting is under *Advanced* in the AWS CloudFormation console on the *Configure stack options* page. With this setting, the stack’s state is retained, and the instance keeps running so that you can troubleshoot the issue. (For Windows, look at the log files in `%ProgramFiles%\Amazon\EC2ConfigService` and `C:\cfn\log`.)
// Customize this answer if needed. For example, if you’re deploying on Linux instances, either provide the location for log files on Linux or omit the final sentence. If the Quick Start has no EC2 instances, revise accordingly (something like "and the assets keep running").

WARNING: When you set *Rollback on failure* to *Disabled*, you continue to incur AWS charges for this stack. Delete the stack when you finish troubleshooting.

For more information, see https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html[Troubleshooting AWS CloudFormation^].

*Q.* I encountered a size-limitation error when I deployed the AWS CloudFormation templates.

*A.* Launch the Quick Start templates from the links in this guide or from another S3 bucket. If you deploy the templates from a local copy on your computer or from a location other than an S3 bucket, you might encounter template-size limitations. For more information, see http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cloudformation-limits.html[AWS CloudFormation quotas^].

*Q.* Can I deploy this Quick Start in a different AWS Region other than *us-east-1* ?

*A.* You can deploy in any supported Region. To change the Region, select the new region in the CloudFormation drop down in the AWS Console. Then, in the CloudFormation template itself, make sure to specify the Region that you selected.

*Q.* Can I modify the EC2 IAM policy to include other S3 buckets, Kinesis streams, or other AWS resources for my instance to access?

*A.* Yes. For more information, refer to https://docs.cribl.io/logstream/sources-s3#s3-and-sqs-permissions[S3 and SQS Permissions] and https://docs.cribl.io/stream/sources-kinesis-streams/[Amazon Kinesis Streams].

*Q.* Where can I find the Cribl URL output when I choose a deployment option into a new VPC?
*A.* When you choose an option to deploy into a new VPC, the Quick Start deploys `VPC` and `CriblDeploy` templates. The Cribl URL can be found in the `CriblDeploy` template. To log in, use the AMI instance ID as the password.

*Q.* After my instance was rebuilt by the Auto Scaling group, I can no longer log into my instance, what's the new password?
*A.* When your instance gets rebuilt by the AutoScale Group, the password is reset to the new AMI Instance ID.

== Troubleshooting

During deployment, you must select two  Availability Zones or the deployment will fail.

If your leader node is terminated, the Auto Scaling group spins up a new one. In this case, the administrator password changes to the new instance AMI. Use that as the password to log into the Cribl LogStream leader node. 

You can use a git repository to backup your configurations. For more information, refer to https://docs.cribl.io/logstream/gitops/[GitOps on Cribl].
